<mat-card id="product-list-header">
  <h1>Products</h1>
  <button mat-button color="primary" (click)="createProduct()">
    <span class="material-symbols-outlined">add</span>
  </button></mat-card
>
<div class="data-table">
  <ngx-datatable
    class="material"
    [rows]="products"
    columnMode="force"
    [headerHeight]="50"
    [footerHeight]="50"
    rowHeight="auto"
    [trackByProp]="'updated'"
    [scrollbarH]="true"
  >
    <ngx-datatable-column name="Name" prop="name">
      <ng-template let-row="row" ngx-datatable-cell-template>
        {{ row.name }}
      </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column name="Description" prop="description">
      <ng-template let-row="row" ngx-datatable-cell-template>
        {{ row.description }}
      </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column name="Price" prop="price">
      <ng-template let-row="row" ngx-datatable-cell-template>
        {{ row.price }}
      </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column name="Publication Date" prop="publicationDate">
      <ng-template let-row="row" ngx-datatable-cell-template>
        {{ row.publicationDate | date: "yyyy-MM-dd" }}
      </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column name="Created by" prop="userWhoCreatedEmail">
      <ng-template let-row="row" ngx-datatable-cell-template>
        {{ row.userWhoCreated.email || "n/a" }}
      </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column>
      <ng-template let-row="row" ngx-datatable-cell-template>
        <button
          mat-button
          *ngIf="isPossibleToEdit(row)"
          color="primary"
          (click)="editProduct(row)"
        >
          <span class="material-symbols-outlined">edit</span>
        </button>
      </ng-template>
    </ngx-datatable-column>
    <ngx-datatable-column>
      <ng-template let-row="row" ngx-datatable-cell-template>
        <button
          mat-button
          *ngIf="isPossibleToEdit(row)"
          color="warn"
          (click)="deleteProduct(row.id)"
        >
          <span class="material-symbols-outlined">delete</span>
        </button>
      </ng-template>
    </ngx-datatable-column>
  </ngx-datatable>
</div>
